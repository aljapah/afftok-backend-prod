graph LR
    A[Request] --> B{Validation}
    B -->|Valid| C[Process]
    B -->|Invalid| D[400 Error]
    C --> E{Business Logic}
    E -->|Success| F[200 Response]
    E -->|Error| G[500 Error]
    C --> H{Database}
    H -->|Success| E
    H -->|Error| I[503 Error]
    
    D --> J[Log Error]
    G --> J
    I --> J
    J --> K[Return Error Response]
